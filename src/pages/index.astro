---
import Layout from '../layouts/Layout.astro';
import WebGLBackground from '../components/WebGLBackground.astro';
import Modal from '../components/Modal.astro';
import WhiteRabbit from '../components/WhiteRabbit.astro';
import ProjectSelection, { type Project } from '../components/ProjectSelection.astro';
import AnimatedContactForm from '../components/AnimatedContactForm.astro';

import TestimonialsSection from '../components/TestimonialsSection.astro';
import PricingSection from '../components/PricingSection.astro';
import CircularDiagram from '../components/CircularDiagram.astro';
import TargetAudiencesSection from '../components/TargetAudiencesSection.astro';
import GlobeAnimation from '../components/GlobeAnimation.tsx';
import CoreValues3D from '../components/CoreValues3d.jsx';

const projects: Project[] = [
	{
		title: 'Web3 Payment Protocol - Stellarity',
		description: 'Implemented AWS infrastructure for Hollaex crypto exchanges, reducing downtime by 30%.',
		link: 'https://stellarity.exchange/',
		rotation: 'left',
	},
	{
		title: 'Uplatnica (Open Source - React)',
		description: 'Developed open-source project creating a digital twin of Serbian pay slips.',
		link: 'https://github.com/reactserbia/uplatnica',
		rotation: 'right',
	},
	{
		title: 'WolframAlpha NFTs (Cardano)',
		description: 'Managed end-to-end implementation of Cardano NFT standards into WolframAlpha.',
		link: 'https://blog.wolfram.com/2021/07/21/liveminting-nfts-with-the-wolfram-language-on-the-cardano-blockchain/',
		rotation: 'left',
	},
	{
		title: 'E-Tabla (USAID)',
		description: 'Optimized initial project setup for SIPRES (etabla.sud.rs), ensuring efficient case management for 46 Misdemeanor Courts.',
		link: 'https://rnk.sipres.sud.rs/',
		rotation: 'right',
	},
];

const testimonials = [
	{
		initials: 'MF',
		name: 'Michael Fox',
		role: 'Executive, Health Plan Operations',
		text: '"Very knowledgeable and great partner. Strong kind and communication. A pleasure to create and work with. Pushes innovation and efficient solutions."',
		date: 'September 6, 2021'
	},
	{
		initials: 'SP',
		name: 'Samuele Pavani',
		role: 'Design & Communication | Web3',
		text: '"I saw Milos fix a website and its CSS in under 5 minutes. With 2 minutes more of explanation he was able to teach me basic CSS where other videos or courses failed with hours of my attention. Wanna deliver? Hire this man."',
		date: 'August 10, 2022'
	},
	{
		initials: 'XJ',
		name: 'Xavier Joseph',
		role: 'Talent & Business Development',
		text: '"Great communicator, works well with USA based clients and fits the culture of hustle hard."',
		date: 'September 6, 2023'
	}
];

const pricingTiers = [
	{
		title: 'Consultation',
		price: '$150/hr',
		features: [
			'Strategic Technical Advice',
			'Roadmap Planning',
			'Problem Solving Sessions'
		],
		modalId: 'consultation-modal',
		buttonText: 'Book a Session'
	},
	{
		title: 'Project Boost',
		price: 'Custom',
		features: [
			'Short-term Project Management',
			'Feature Development Oversight',
			'Agile Coaching'
		],
		modalId: 'project-modal',
		buttonText: 'Discuss Project'
	},
	{
		title: 'Full Engagement',
		price: 'Retainer',
		features: [
			'Long-term Product Leadership',
			'Team Integration',
			'End-to-End Solution Delivery'
		],
		modalId: 'engagement-modal',
		buttonText: "Let's Partner"
	}
];

---

<Layout 
	title="Technical Product Manager - Milos Rujevic"
	description="Expert Technical Product Manager specializing in AI/ML, cloud infrastructure, and data-driven product strategy. Transform your technology with strategic product thinking."
	image="/seo/og-image.png"
>
	<WebGLBackground />

	<!-- Hero Section -->
	<section id="hero" class="container mx-auto py-8 sm:py-20 md:py-24 max-w-4xl text-center relative z-10">

		<CircularDiagram 
		centerTitle="Why"
		centerText="People deserve tech that works for them, not the other way around."
		leftTitle="How"
		leftText="By being relentless, hands-on, and fearless—challenging norms with sharp focus and uncompromising care."
		rightTitle="What"
		rightText="Simplify IT, streamlining your ops, slashing costs, unlocking talent, and building game-changing connections."
		/>

		<TargetAudiencesSection />

		<a 
			href="#"
			onclick="document.getElementById('contact-modal').classList.remove('hidden'); return false;"
			class="inline-block px-6 sm:px-8 py-3 font-semibold rounded-lg shadow transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95 group text-sm sm:text-base"
			style="background: var(--accent-primary); color: white;"
		>
			Get in Touch
			<span class="inline-block ml-2 transform group-hover:translate-x-1 transition-transform duration-300">→</span>
		</a>
	</section>

	<section id="experience" class="relative w-full mb-16 sm:mb-20 px-4">
		<h2 class="text-2xl sm:text-3xl font-semibold mb-6 sm:mb-8 text-center transition-colors duration-200 cursor-default" style="color: var(--text-primary);">Experience</h2>
		<div class="flex justify-center items-center min-h-[250px] sm:min-h-[300px]">
			
				<GlobeAnimation  client:load />
		</div>
	</section>

	<!-- Projects Section -->
	<ProjectSelection  projects={projects}/>


	<!-- Interactive Core Values Section -->
	<CoreValues3D client:only="react" />

	<!-- Pricing Section -->
	<PricingSection tiers={pricingTiers} />

	<!-- Testimonials Section -->
	<TestimonialsSection testimonials={testimonials} />

	<!-- Contact Section -->
	<section id="contact" class="mb-10 px-4">
		<h2 class="text-2xl sm:text-3xl font-semibold mb-6 sm:mb-8 text-center transition-colors duration-200 cursor-default" style="color: var(--text-primary);">Ready to Elevate Your Project?</h2>
		<div class="flex flex-col items-center max-w-4xl mx-auto text-center">
			<p class="mb-6 text-base sm:text-lg transition-colors duration-200 cursor-default max-w-2xl leading-relaxed" style="color: var(--text-secondary);">Let's collaborate to build impactful, cutting-edge solutions.</p>
			<a onclick="document.getElementById('contact-modal').classList.remove('hidden'); return false;" 
			   class="inline-block px-6 sm:px-8 py-3 font-semibold rounded-lg shadow transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95 group mb-4 cursor-pointer text-sm sm:text-base"
			   style="background: var(--accent-primary); color: white;">
				Start a Conversation
				<span class="inline-block ml-2 transform group-hover:translate-x-1 transition-transform duration-300">→</span>
			</a>
		</div>
	</section>

	<!-- Contact Modal -->
	<Modal id="contact-modal" title="Get in Touch" subtitle="Let's discuss how we can work together">
		<AnimatedContactForm 
			formId="contact-form"
			buttonText="Send Message"
			fields={[
				{ type: 'text', id: 'name', name: 'name', label: 'How we should call you?', icon: '👤', required: true },
				{ type: 'email', id: 'email', name: 'email', label: 'Email Address', icon: '📧', required: true },
				{ type: 'textarea', id: 'message', name: 'message', label: 'Tell us about your project', icon: '🚀', required: true, rows: 4 }
			]}
		/>
	</Modal>

	<!-- Consultation Modal -->
	<Modal id="consultation-modal" title="Book a Consultation" subtitle="Get expert guidance on your technical strategy">
		<AnimatedContactForm 
			formId="contact-form-consultation"
			buttonText="Book Consultation"
			fields={[
				{ type: 'text', id: 'consultation-name', name: 'name', label: 'How we should call you?', icon: '👤', required: true },
				{ type: 'email', id: 'consultation-email', name: 'email', label: 'Email Address', icon: '📧', required: true },
				{ type: 'textarea', id: 'consultation-goals', name: 'message', label: 'What are your consultation goals?', icon: '🎯', required: true, rows: 4 }
			]}
		/>
	</Modal>

	<!-- Project Modal -->
	<Modal id="project-modal" title="Start a Project" subtitle="Let's build something amazing together">
		<AnimatedContactForm 
			formId="contact-form-project"
			buttonText="Start Project"
			fields={[
				{ type: 'text', id: 'project-name', name: 'name', label: 'How we should call you?', icon: '👤', required: true },
				{ type: 'email', id: 'project-email', name: 'email', label: 'Email Address', icon: '📧', required: true },
				{ type: 'select', id: 'project-timeline', name: 'timeline', label: 'Expected Timeline', icon: '⏰', required: true, options: [
					{ value: 'urgent', label: 'Urgent (1-2 weeks)' },
					{ value: 'soon', label: 'Soon (1-2 months)' },
					{ value: 'planning', label: 'Planning Phase' },
					{ value: 'flexible', label: 'Flexible' }
				]},
				{ type: 'textarea', id: 'project-requirements', name: 'message', label: 'Describe your project requirements', icon: '📋', required: true, rows: 4 }
			]}
		/>
	</Modal>

	<!-- Engagement Modal -->
	<Modal id="engagement-modal" title="Begin Partnership" subtitle="Let's build a long-term strategic relationship">
		<AnimatedContactForm 
			formId="contact-form-engagement"
			buttonText="Start Partnership Discussion"
			fields={[
				{ type: 'text', id: 'engagement-name', name: 'name', label: 'How we should call you?', icon: '👤', required: true },
				{ type: 'email', id: 'engagement-email', name: 'email', label: 'Email Address', icon: '📧', required: true },
				{ type: 'select', id: 'engagement-team-size', name: 'team-size', label: 'Team Size', icon: '👥', required: true, options: [
					{ value: '1-10', label: '1-10 employees' },
					{ value: '11-50', label: '11-50 employees' },
					{ value: '51-200', label: '51-200 employees' },
					{ value: '201+', label: '201+ employees' }
				]},
				{ type: 'textarea', id: 'engagement-goals', name: 'message', label: 'Describe your engagement goals', icon: '🤝', required: true, rows: 4 }
			]}
		/>
	</Modal>

	<footer class="text-center text-sm py-6 relative" style="color: var(--text-secondary);">
		<div class="flex flex-col sm:flex-row items-center justify-center gap-2">
			<span class="transition-colors duration-200 cursor-default" style="color: var(--text-secondary);">© 2025 Milos Rujevic. All rights reserved.</span>
			<span class="hidden sm:inline" style="color: var(--text-secondary);">•</span>
			<span class="transition-colors duration-200 cursor-default" style="color: var(--text-secondary);">Powered by Creativity and Free Will</span>
			<span class="hidden sm:inline" style="color: var(--text-secondary);">•</span>
			<div class="hover:scale-110 transition-transform duration-300">
				<WhiteRabbit />
			</div>
		</div>
	</footer>
</Layout>





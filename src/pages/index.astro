---
import Layout from '../layouts/Layout.astro';
import WebGLBackground from '../components/WebGLBackground.astro';
import ExperienceTimeline from '../components/ExperienceTimeline.tsx';
import Modal from '../components/Modal.astro';
import WhiteRabbit from '../components/WhiteRabbit.astro';
import ProjectSelection, { type Project } from '../components/ProjectSelection.astro';
import SkillsSection from '../components/SkillsSection.astro';
import TestimonialsSection from '../components/TestimonialsSection.astro';
import PricingSection from '../components/PricingSection.astro';


const projects: Project[] = [
	{
		title: 'Web3 Payment Protocol - Stellarity',
		description: 'Implemented AWS infrastructure for Hollaex crypto exchanges, reducing downtime by 30%.',
		link: 'https://stellarity.exchange/',
		rotation: 'left',
	},
	{
		title: 'Uplatnica (Open Source - React)',
		description: 'Developed open-source project creating a digital twin of Serbian pay slips.',
		link: 'https://github.com/reactserbia/uplatnica',
		rotation: 'right',
	},
	{
		title: 'WolframAlpha NFTs (Cardano)',
		description: 'Managed end-to-end implementation of Cardano NFT standards into WolframAlpha.',
		link: 'https://blog.wolfram.com/2021/07/21/liveminting-nfts-with-the-wolfram-language-on-the-cardano-blockchain/',
		rotation: 'left',
	},
	{
		title: 'E-Tabla (USAID)',
		description: 'Optimized initial project setup for SIPRES (etabla.sud.rs), ensuring efficient case management for 46 Misdemeanor Courts.',
		link: 'https://rnk.sipres.sud.rs/',
		rotation: 'right',
	},
];

const technicalSkills = [
	'Agile Methodologies',
	'Technical Product Management',
	'AI/ML Solutions',
	'Software Architecture',
	'DevOps Practices',
	'Cloud Platforms (AWS, Azure)',
	'Blockchain & Web3',
	'JavaScript (React, Angular, Node.js)',
	'DataBricks',
	'Salesforce',
	'Power Platform',
	'GitHub Copilot'
];

const softSkills = [
	'Team Leadership',
	'Stakeholder Management',
	'Strategic Thinking',
	'Communication'
];

const testimonials = [
	{
		initials: 'MF',
		name: 'Michael Fox',
		role: 'Executive, Health Plan Operations',
		text: '"Very knowledgeable and great partner. Strong kind and communication. A pleasure to create and work with. Pushes innovation and efficient solutions."',
		date: 'September 6, 2021'
	},
	{
		initials: 'SP',
		name: 'Samuele Pavani',
		role: 'Design & Communication | Web3',
		text: '"I saw Milos fix a website and its CSS in under 5 minutes. With 2 minutes more of explanation he was able to teach me basic CSS where other videos or courses failed with hours of my attention. Wanna deliver? Hire this man."',
		date: 'August 10, 2022'
	},
	{
		initials: 'XJ',
		name: 'Xavier Joseph',
		role: 'Talent & Business Development',
		text: '"Great communicator, works well with USA based clients and fits the culture of hustle hard."',
		date: 'September 6, 2023'
	}
];

const pricingTiers = [
	{
		title: 'Consultation',
		price: '$150/hr',
		features: [
			'Strategic Technical Advice',
			'Roadmap Planning',
			'Problem Solving Sessions'
		],
		modalId: 'consultation-modal',
		buttonText: 'Book a Session'
	},
	{
		title: 'Project Boost',
		price: 'Custom',
		features: [
			'Short-term Project Management',
			'Feature Development Oversight',
			'Agile Coaching'
		],
		modalId: 'project-modal',
		buttonText: 'Discuss Project'
	},
	{
		title: 'Full Engagement',
		price: 'Retainer',
		features: [
			'Long-term Product Leadership',
			'Team Integration',
			'End-to-End Solution Delivery'
		],
		modalId: 'engagement-modal',
		buttonText: "Let's Partner"
	}
];

---

<Layout 
	title="Milos Rujevic - Technical Product Manager"
	description="Experienced Technical Product Manager driving innovation in AI, Blockchain, and Web3 solutions."
	image="/og-index.png"
>
	<WebGLBackground />

	<!-- Hero Section -->
	<section id="hero" class="container mx-auto px-4 py-24 max-w-4xl text-center relative z-10">
		<h1 class="text-5xl font-bold mb-4 bg-gradient-to-r from-[rgb(var(--primary))] to-[rgb(var(--accent))] bg-clip-text text-transparent hover:scale-105 transition-transform duration-300 cursor-default">
			Milos Rujevic
		</h1>
		<p class="text-xl text-[rgb(var(--muted-foreground))] mb-6 hover:text-[rgb(var(--foreground))] transition-colors duration-200 cursor-default">Experienced Technical Product Manager driving innovation in AI, Blockchain, and Web3 solutions.</p>
		<a 
			href="#"
			onclick="document.getElementById('contact-modal').classList.remove('hidden'); return false;"
			class="inline-block px-8 py-3 bg-[rgb(var(--primary))] text-[rgb(var(--primary-foreground))] font-semibold rounded-lg shadow hover:bg-[rgb(var(--accent))] transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95 group"
		>
			Get in Touch
			<span class="inline-block ml-2 transform group-hover:translate-x-1 transition-transform duration-300">→</span>
		</a>
	</section>

	<!-- Experience Section -->
	<section id="experience" class="relative w-full mb-12 px-4">
		<h2 class="text-3xl font-semibold mb-8 text-center hover:text-[rgb(var(--primary))] transition-colors duration-200 cursor-default">Experience</h2>
		<div class="flex justify-center items-center">
			<ExperienceTimeline client:load />
		</div>
	</section>

	<!-- Projects Section -->
	<ProjectSelection  projects={projects}/>

	<!-- Skills Section -->
	<SkillsSection technicalSkills={technicalSkills} softSkills={softSkills} />

	<!-- Pricing Section -->
	<PricingSection tiers={pricingTiers} />

	<!-- Testimonials Section -->
	<TestimonialsSection testimonials={testimonials} />

	<!-- Contact Section -->
	<section id="contact" class="mb-10 px-4">
		<h2 class="text-3xl font-semibold mb-8 text-center hover:text-[rgb(var(--primary))] transition-colors duration-200 cursor-default">Ready to Elevate Your Project?</h2>
		<div class="flex flex-col items-center max-w-4xl mx-auto">
			<p class="mb-4 text-lg text-[rgb(var(--muted-foreground))] hover:text-[rgb(var(--foreground))] transition-colors duration-200 cursor-default">Let's collaborate to build impactful, cutting-edge solutions.</p>
			<a onclick="document.getElementById('contact-modal').classList.remove('hidden'); return false;" 
			   class="inline-block px-8 py-3 bg-[rgb(var(--primary))] text-[rgb(var(--primary-foreground))] font-semibold rounded-lg shadow hover:bg-[rgb(var(--accent))] transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95 group mb-4 cursor-pointer">
				Start a Conversation
				<span class="inline-block ml-2 transform group-hover:translate-x-1 transition-transform duration-300">→</span>
			</a>
		</div>
	</section>

	<!-- Contact Form Modal -->
	<Modal id="contact-modal" title="Get in Touch" subtitle="Let's discuss how we can work together">
		<form id="contact-form" class="space-y-6">
			<div class="form-group">
				<label for="name" class="form-label">Name</label>
				<input
					type="text"
					id="name"
					name="name"
					required
					class="form-input"
					placeholder="Your name"
				/>
			</div>

			<div class="form-group">
				<label for="email" class="form-label">Email</label>
				<input
					type="email"
					id="email"
					name="email"
					required
					class="form-input"
					placeholder="your.email@example.com"
				/>
			</div>

			<div class="form-group">
				<label for="company" class="form-label">Company</label>
				<input
					type="text"
					id="company"
					name="company"
					class="form-input"
					placeholder="Your company name (optional)"
				/>
			</div>

			<div class="form-group">
				<label for="subject" class="form-label">Subject</label>
				<select
					id="subject"
					name="subject"
					required
					class="form-select"
				>
					<option value="">Select a subject</option>
					<option value="general">General Inquiry</option>
					<option value="consultation">Book a Consultation</option>
					<option value="project">Project Discussion</option>
					<option value="engagement">Full Engagement</option>
					<option value="other">Other</option>
				</select>
			</div>

			<div class="form-group">
				<label for="message" class="form-label">Message</label>
				<textarea
					id="message"
					name="message"
					rows="4"
					required
					class="form-textarea"
					placeholder="Tell us about your needs and how we can help"
				></textarea>
			</div>

			<div class="pt-4">
				<button
					type="submit"
					class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-[rgb(var(--primary-foreground))] bg-[rgb(var(--primary))] hover:bg-[rgb(var(--accent))] transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95 group"
				>
					Send Message
					<span class="inline-block ml-2 transform group-hover:translate-x-1 transition-transform duration-300">→</span>
				</button>
			</div>
		</form>
	</Modal>

	<!-- Consultation Form Modal -->
	<Modal id="consultation-modal" title="Book a Consultation" subtitle="Schedule a strategic technical consultation">
		<form id="contact-form-consultation" class="space-y-6">
			<div class="form-group">
				<label for="consultation-name" class="form-label">Name</label>
				<input
					type="text"
					id="consultation-name"
					name="name"
					required
					class="form-input"
					placeholder="Your name"
				/>
			</div>

			<div class="form-group">
				<label for="consultation-email" class="form-label">Email</label>
				<input
					type="email"
					id="consultation-email"
					name="email"
					required
					class="form-input"
					placeholder="your.email@example.com"
				/>
			</div>

			<div class="form-group">
				<label for="consultation-company" class="form-label">Company</label>
				<input
					type="text"
					id="consultation-company"
					name="company"
					class="form-input"
					placeholder="Your company name (optional)"
				/>
			</div>

			<div class="form-group">
				<label for="consultation-goals" class="form-label">Consultation Goals</label>
				<textarea
					id="consultation-goals"
					name="message"
					rows="4"
					required
					class="form-textarea"
					placeholder="What would you like to discuss? What are your main challenges or goals?"
				></textarea>
			</div>

			<div class="pt-4">
				<button
					type="submit"
					class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-[rgb(var(--primary-foreground))] bg-[rgb(var(--primary))] hover:bg-[rgb(var(--accent))] transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95 group"
				>
					Book Consultation
					<span class="inline-block ml-2 transform group-hover:translate-x-1 transition-transform duration-300">→</span>
				</button>
			</div>
		</form>
	</Modal>

	<!-- Project Form Modal -->
	<Modal id="project-modal" title="Project Discussion" subtitle="Let's discuss your project needs">
		<form id="contact-form-project" class="space-y-6">
			<div class="form-group">
				<label for="project-name" class="form-label">Name</label>
				<input
					type="text"
					id="project-name"
					name="name"
					required
					class="form-input"
					placeholder="Your name"
				/>
			</div>

			<div class="form-group">
				<label for="project-email" class="form-label">Email</label>
				<input
					type="email"
					id="project-email"
					name="email"
					required
					class="form-input"
					placeholder="your.email@example.com"
				/>
			</div>

			<div class="form-group">
				<label for="project-company" class="form-label">Company</label>
				<input
					type="text"
					id="project-company"
					name="company"
					class="form-input"
					placeholder="Your company name (optional)"
				/>
			</div>

			<div class="form-group">
				<label for="project-timeline" class="form-label">Expected Timeline</label>
				<select
					id="project-timeline"
					name="timeline"
					required
					class="form-select"
				>
					<option value="">Select timeline</option>
					<option value="urgent">Urgent (1-2 weeks)</option>
					<option value="soon">Soon (1-2 months)</option>
					<option value="planning">Planning Phase</option>
					<option value="flexible">Flexible</option>
				</select>
			</div>

			<div class="form-group">
				<label for="project-requirements" class="form-label">Project Requirements</label>
				<textarea
					id="project-requirements"
					name="message"
					rows="4"
					required
					class="form-textarea"
					placeholder="Describe your project, requirements, and any specific challenges you're facing"
				></textarea>
			</div>

			<div class="pt-4">
				<button
					type="submit"
					class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-[rgb(var(--primary-foreground))] bg-[rgb(var(--primary))] hover:bg-[rgb(var(--accent))] transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95 group"
				>
					Submit Project Request
					<span class="inline-block ml-2 transform group-hover:translate-x-1 transition-transform duration-300">→</span>
				</button>
			</div>
		</form>
	</Modal>

	<!-- Engagement Form Modal -->
	<Modal id="engagement-modal" title="Full Engagement" subtitle="Let's discuss a long-term partnership">
		<form id="contact-form-engagement" class="space-y-6">
			<div class="form-group">
				<label for="engagement-name" class="form-label">Name</label>
				<input
					type="text"
					id="engagement-name"
					name="name"
					required
					class="form-input"
					placeholder="Your name"
				/>
			</div>

			<div class="form-group">
				<label for="engagement-email" class="form-label">Email</label>
				<input
					type="email"
					id="engagement-email"
					name="email"
					required
					class="form-input"
					placeholder="your.email@example.com"
				/>
			</div>

			<div class="form-group">
				<label for="engagement-company" class="form-label">Company</label>
				<input
					type="text"
					id="engagement-company"
					name="company"
					required
					class="form-input"
					placeholder="Your company name"
				/>
			</div>

			<div class="form-group">
				<label for="engagement-team-size" class="form-label">Team Size</label>
				<select
					id="engagement-team-size"
					name="team-size"
					required
					class="form-select"
				>
					<option value="">Select team size</option>
					<option value="1-10">1-10 employees</option>
					<option value="11-50">11-50 employees</option>
					<option value="51-200">51-200 employees</option>
					<option value="201+">201+ employees</option>
				</select>
			</div>

			<div class="form-group">
				<label for="engagement-goals" class="form-label">Engagement Goals</label>
				<textarea
					id="engagement-goals"
					name="message"
					rows="4"
					required
					class="form-textarea"
					placeholder="Describe your company's needs, goals, and what you're looking to achieve through this engagement"
				></textarea>
			</div>

			<div class="pt-4">
				<button
					type="submit"
					class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-[rgb(var(--primary-foreground))] bg-[rgb(var(--primary))] hover:bg-[rgb(var(--accent))] transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95 group"
				>
					Start Partnership Discussion
					<span class="inline-block ml-2 transform group-hover:translate-x-1 transition-transform duration-300">→</span>
				</button>
			</div>
		</form>
	</Modal>

	<footer class="text-center text-[rgb(var(--muted-foreground))] text-sm py-6 relative">
		<div class="flex items-center justify-center gap-2">
			<span class="hover:text-[rgb(var(--foreground))] transition-colors duration-200 cursor-default">© 2025 Milos Rujevic. All rights reserved.</span>
			<span class="text-[rgb(var(--border))]">•</span>
			<span class="hover:text-[rgb(var(--foreground))] transition-colors duration-200 cursor-default">Powered by Creativity and Free Will</span>
			<span class="text-[rgb(var(--border))]">•</span>
			<div class="hover:scale-110 transition-transform duration-300">
				<WhiteRabbit />
			</div>
		</div>
	</footer>
</Layout>

---
import Layout from '../layouts/Layout.astro';
import WebGLBackground from '../components/WebGLBackground.astro';
import Modal from '../components/Modal.astro';
import WhiteRabbit from '../components/WhiteRabbit.astro';
import ProjectSelection, { type Project } from '../components/ProjectSelection.astro';
import AnimatedContactForm from '../components/AnimatedContactForm.astro';

import TestimonialsSection from '../components/TestimonialsSection.astro';
import PricingSection from '../components/PricingSection.astro';
import CircularDiagram from '../components/CircularDiagram.astro';
import TargetAudiencesSection from '../components/TargetAudiencesSection.astro';
import GlobeAnimation from '../components/GlobeAnimation.tsx';


const projects: Project[] = [
	{
		title: 'Web3 Payment Protocol - Stellarity',
		description: 'Implemented AWS infrastructure for Hollaex crypto exchanges, reducing downtime by 30%.',
		link: 'https://stellarity.exchange/',
		rotation: 'left',
	},
	{
		title: 'Uplatnica (Open Source - React)',
		description: 'Developed open-source project creating a digital twin of Serbian pay slips.',
		link: 'https://github.com/reactserbia/uplatnica',
		rotation: 'right',
	},
	{
		title: 'WolframAlpha NFTs (Cardano)',
		description: 'Managed end-to-end implementation of Cardano NFT standards into WolframAlpha.',
		link: 'https://blog.wolfram.com/2021/07/21/liveminting-nfts-with-the-wolfram-language-on-the-cardano-blockchain/',
		rotation: 'left',
	},
	{
		title: 'E-Tabla (USAID)',
		description: 'Optimized initial project setup for SIPRES (etabla.sud.rs), ensuring efficient case management for 46 Misdemeanor Courts.',
		link: 'https://rnk.sipres.sud.rs/',
		rotation: 'right',
	},
];

const coreValues = [
	{ value: 'Results-Oriented', description: 'Every action is measured by its impact' },
	{ value: 'Efficiency', description: 'Streamlining processes for maximum output' },
	{ value: 'Self-Sustaining Solutions', description: 'Building systems that work independently' },
	{ value: 'Dedication', description: 'Complete commitment to client success' },
	{ value: 'Transparency', description: 'Open communication and honest reporting' },
	{ value: 'Innovation', description: 'Continuous improvement and creative thinking' }
];


const testimonials = [
	{
		initials: 'MF',
		name: 'Michael Fox',
		role: 'Executive, Health Plan Operations',
		text: '"Very knowledgeable and great partner. Strong kind and communication. A pleasure to create and work with. Pushes innovation and efficient solutions."',
		date: 'September 6, 2021'
	},
	{
		initials: 'SP',
		name: 'Samuele Pavani',
		role: 'Design & Communication | Web3',
		text: '"I saw Milos fix a website and its CSS in under 5 minutes. With 2 minutes more of explanation he was able to teach me basic CSS where other videos or courses failed with hours of my attention. Wanna deliver? Hire this man."',
		date: 'August 10, 2022'
	},
	{
		initials: 'XJ',
		name: 'Xavier Joseph',
		role: 'Talent & Business Development',
		text: '"Great communicator, works well with USA based clients and fits the culture of hustle hard."',
		date: 'September 6, 2023'
	}
];

const pricingTiers = [
	{
		title: 'Consultation',
		price: '$150/hr',
		features: [
			'Strategic Technical Advice',
			'Roadmap Planning',
			'Problem Solving Sessions'
		],
		modalId: 'consultation-modal',
		buttonText: 'Book a Session'
	},
	{
		title: 'Project Boost',
		price: 'Custom',
		features: [
			'Short-term Project Management',
			'Feature Development Oversight',
			'Agile Coaching'
		],
		modalId: 'project-modal',
		buttonText: 'Discuss Project'
	},
	{
		title: 'Full Engagement',
		price: 'Retainer',
		features: [
			'Long-term Product Leadership',
			'Team Integration',
			'End-to-End Solution Delivery'
		],
		modalId: 'engagement-modal',
		buttonText: "Let's Partner"
	}
];

---

<Layout 
	title="Why"
	description="We exist to improve people’s lives. How? By guiding IT companies to reorient themselves—not just toward profit, but toward service. Because when technology companies truly serve people, they don’t just create value… they create wealth that benefits everyone."
	image="/seo/og-image.png"
>
	<WebGLBackground />

	<!-- Hero Section -->
	<section id="hero" class="container mx-auto py-8 sm:py-20 md:py-24 max-w-4xl text-center relative z-10">
		<CircularDiagram 
		centerTitle="Why"
		centerText="To improve people's lives"
		leftTitle="How"
		leftText="Guiding companies from not just profit, to service"
		rightTitle="Because"
		rightText="Creating wealth that benefits everyone"
		/>

		<TargetAudiencesSection />

		<a 
			href="#"
			onclick="document.getElementById('contact-modal').classList.remove('hidden'); return false;"
			class="inline-block px-6 sm:px-8 py-3 bg-royal-purple-600 text-white font-semibold rounded-lg shadow hover:bg-electric-lavender-500 transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95 group text-sm sm:text-base"
		>
			Get in Touch
			<span class="inline-block ml-2 transform group-hover:translate-x-1 transition-transform duration-300">→</span>
		</a>
	</section>

	<section id="experience" class="relative w-full mb-16 sm:mb-20 px-4">
		<h2 class="text-2xl sm:text-3xl font-semibold mb-6 sm:mb-8 text-center hover:text-[rgb(var(--primary))] transition-colors duration-200 cursor-default">Experience</h2>
		<div class="flex justify-center items-center min-h-[250px] sm:min-h-[300px]">
			
				<GlobeAnimation  client:load />
		</div>
	</section>



	<!-- Projects Section -->
	<ProjectSelection  projects={projects}/>


	<!-- Values Section -->
	<section id="values" class="container mx-auto px-4 mb-16 sm:mb-20 max-w-6xl relative z-10">
		<h2 class="text-2xl sm:text-3xl font-semibold mb-8 text-center hover:text-royal-purple-600 transition-colors duration-200 cursor-default">Core Values</h2>
		<div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
			{coreValues.map((item) => (
				<div class="bg-white/10 backdrop-blur-md border border-white/20 rounded-lg p-6 hover:bg-white/15 hover:border-white/30 transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-xl">
					<h3 class="font-semibold mb-3 text-royal-purple-600">{item.value}</h3>
					<p class="text-pale-blush-100 text-sm leading-relaxed">{item.description}</p>
				</div>
			))}
		</div>
	</section>

	<!-- Pricing Section -->
	<PricingSection tiers={pricingTiers} />

	<!-- Testimonials Section -->
	<TestimonialsSection testimonials={testimonials} />

	<!-- Contact Section -->
	<section id="contact" class="mb-10 px-4">
		<h2 class="text-2xl sm:text-3xl font-semibold mb-6 sm:mb-8 text-center hover:text-royal-purple-600 transition-colors duration-200 cursor-default">Ready to Elevate Your Project?</h2>
		<div class="flex flex-col items-center max-w-4xl mx-auto text-center">
			<p class="mb-6 text-base sm:text-lg text-deep-charcoal-300 hover:text-pale-blush-50 transition-colors duration-200 cursor-default max-w-2xl leading-relaxed">Let's collaborate to build impactful, cutting-edge solutions.</p>
			<a onclick="document.getElementById('contact-modal').classList.remove('hidden'); return false;" 
			   class="inline-block px-6 sm:px-8 py-3 bg-royal-purple-600 text-white font-semibold rounded-lg shadow hover:bg-electric-lavender-500 transition-all duration-300 hover:scale-105 hover:shadow-lg active:scale-95 group mb-4 cursor-pointer text-sm sm:text-base">
				Start a Conversation
				<span class="inline-block ml-2 transform group-hover:translate-x-1 transition-transform duration-300">→</span>
			</a>
		</div>
	</section>

	<!-- Contact Form Modal -->
	<Modal id="contact-modal" title="Get in Touch" subtitle="Let's discuss how we can work together">
		<AnimatedContactForm 
			formId="contact-form"
			buttonText="Send Message"
		/>
	</Modal>

	<!-- Consultation Form Modal -->
	<Modal id="consultation-modal" title="Book a Consultation" subtitle="Schedule a strategic technical consultation">
		<AnimatedContactForm 
			formId="contact-form-consultation"
			buttonText="Book Consultation"
			fields={[
				{ type: 'text', id: 'consultation-name', name: 'name', label: 'How we should call you?', icon: '👤', required: true },
				{ type: 'email', id: 'consultation-email', name: 'email', label: 'Email Address', icon: '📧', required: true },
				{ type: 'textarea', id: 'consultation-goals', name: 'message', label: 'What would you like to discuss?', icon: '🎯', required: true, rows: 4 }
			]}
		/>
	</Modal>

	<!-- Project Form Modal -->
	<Modal id="project-modal" title="Project Discussion" subtitle="Let's discuss your project needs">
		<AnimatedContactForm 
			formId="contact-form-project"
			buttonText="Submit Project Request"
			fields={[
				{ type: 'text', id: 'project-name', name: 'name', label: 'How we should call you?', icon: '👤', required: true },
				{ type: 'email', id: 'project-email', name: 'email', label: 'Email Address', icon: '📧', required: true },
				{ type: 'select', id: 'project-timeline', name: 'timeline', label: 'Expected Timeline', icon: '⏰', required: true, options: [
					{ value: 'urgent', label: 'Urgent (1-2 weeks)' },
					{ value: 'soon', label: 'Soon (1-2 months)' },
					{ value: 'planning', label: 'Planning Phase' },
					{ value: 'flexible', label: 'Flexible' }
				]},
				{ type: 'textarea', id: 'project-requirements', name: 'message', label: 'Describe your project requirements', icon: '📋', required: true, rows: 4 }
			]}
		/>
	</Modal>

	<!-- Engagement Form Modal -->
	<Modal id="engagement-modal" title="Full Engagement" subtitle="Let's discuss a long-term partnership">
		<AnimatedContactForm 
			formId="contact-form-engagement"
			buttonText="Start Partnership Discussion"
			fields={[
				{ type: 'text', id: 'engagement-name', name: 'name', label: 'How we should call you?', icon: '👤', required: true },
				{ type: 'email', id: 'engagement-email', name: 'email', label: 'Email Address', icon: '📧', required: true },
				{ type: 'select', id: 'engagement-team-size', name: 'team-size', label: 'Team Size', icon: '👥', required: true, options: [
					{ value: '1-10', label: '1-10 employees' },
					{ value: '11-50', label: '11-50 employees' },
					{ value: '51-200', label: '51-200 employees' },
					{ value: '201+', label: '201+ employees' }
				]},
				{ type: 'textarea', id: 'engagement-goals', name: 'message', label: 'Describe your engagement goals', icon: '🤝', required: true, rows: 4 }
			]}
		/>
	</Modal>

	<footer class="text-center text-deep-charcoal-400 text-sm py-6 relative">
		<div class="flex flex-col sm:flex-row items-center justify-center gap-2">
			<span class="hover:text-pale-blush-50 transition-colors duration-200 cursor-default">© 2025 Milos Rujevic. All rights reserved.</span>
			<span class="text-pale-blush-200 hidden sm:inline">•</span>
			<span class="hover:text-pale-blush-50 transition-colors duration-200 cursor-default">Powered by Creativity and Free Will</span>
			<span class="text-pale-blush-200 hidden sm:inline">•</span>
			<div class="hover:scale-110 transition-transform duration-300">
				<WhiteRabbit />
			</div>
		</div>
	</footer>
</Layout>




